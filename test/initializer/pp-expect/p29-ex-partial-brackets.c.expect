---- stdout ----
// ---- START ----
// -*- c++ -*-
short q1[4][3][2] = { { { 1 } }, { { 2, 3 } }, { { 4, 5 }, { 6 } } };

short q2[4][3][2] = {
  { { 1, 0 }, { 0, 0 }, { 0, 0 } }, { { 2, 3 }, { 0, 0 }, { 0, 0 } },
  { { 4, 5 }, { 6 } }
};

short q3[4][3][2] = { { { 1 } }, { { 2, 3 } }, { { 4, 5 }, { 6 } } };

static int check_q(short q[4][3][2])
{
  return *(*(*(q+0) + 0) + 0) == 1 && *(*(*(q+0) + 0) + 1) == 0 &&
           *(*(*(q+0) + 1) + 0) == 0 && *(*(*(q+0) + 1) + 1) == 0 &&
           *(*(*(q+0) + 2) + 0) == 0 && *(*(*(q+0) + 2) + 1) == 0 &&
           *(*(*(q+1) + 0) + 0) == 2 && *(*(*(q+1) + 0) + 1) == 3 &&
           *(*(*(q+1) + 1) + 0) == 0 && *(*(*(q+1) + 1) + 1) == 0 &&
           *(*(*(q+1) + 2) + 0) == 0 && *(*(*(q+1) + 2) + 1) == 0 &&
           *(*(*(q+2) + 0) + 0) == 4 && *(*(*(q+2) + 0) + 1) == 5 &&
           *(*(*(q+2) + 1) + 0) == 6 && *(*(*(q+2) + 1) + 1) == 0 &&
           *(*(*(q+2) + 2) + 0) == 0 && *(*(*(q+2) + 2) + 1) == 0 && 1;
}

int main()
{
  return check_q(q1) && check_q(q2) && check_q(q3) && 1? 0 : 1;
}

// ---- STOP ----
---- stderr ----
---- exit status ----
Exit 0
